(this["webpackJsonpphone-book-ls"]=this["webpackJsonpphone-book-ls"]||[]).push([[0],{15:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return d})),n.d(e,"j",(function(){return f}));var c=n(1),r=Object(c.b)("phoneBook/fetchContactRequest"),a=Object(c.b)("phoneBook/fetchContactSuccess"),o=Object(c.b)("phoneBook/fetchContactError"),u=Object(c.b)("phoneBook/addContactRequest"),i=Object(c.b)("phoneBook/addContactSuccess"),l=Object(c.b)("phoneBook/addContactError"),b=Object(c.b)("phoneBook/deleteContactRequest"),s=Object(c.b)("phoneBook/deleteContactSuccess"),d=Object(c.b)("phoneBook/deleteContactError"),f=Object(c.b)("phoneBook/filterContacts")},19:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return s}));var c=n(16),r=n.n(c),a=n(2);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){r.a.defaults.headers.common.Authorization=""},i=function(t){return function(e){e(Object(a.k)()),r.a.post("/users/signup",t).then((function(t){var n=t.data;return e(Object(a.l)(n),o(n.token))})).catch((function(t){return e(Object(a.j)(t.message))}))}},l=function(t){return function(e){e(Object(a.e)()),r.a.post("/users/login",t).then((function(t){var n=t.data;return e(Object(a.f)(n),o(n.token))})).catch((function(t){return e(Object(a.d)(t.message))}))}},b=function(){return function(t){t(a.h),r.a.post("/users/logout").then((function(){return t(Object(a.i)())}),u()).catch((function(e){return t(Object(a.g)(e.message))}))}},s=function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(Object(a.b)()),r.a.get("/users/current").then((function(e){var n=e.data;return t(Object(a.c)(n))})).catch((function(e){return t(Object(a.a)(e.message))})))}}},2:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return s})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return O}));var c=n(1),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),l=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),s=Object(c.b)("auth/logoutSuccess"),d=Object(c.b)("auth/logoutError"),f=Object(c.b)("auth/getCurrentUserRequest"),j=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError")},48:function(t,e,n){t.exports=n(81)},81:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,i,l=n(0),b=n.n(l),s=n(20),d=n.n(s),f=n(7),j=n(12),O=n(45),h=n(21),m=n(1),p=n(3),g=n(6),k=n(15),E=Object(m.c)([],(c={},Object(p.a)(c,k.i,(function(t,e){return e.payload})),Object(p.a)(c,k.c,(function(t,e){var n=e.payload;return[].concat(Object(h.a)(t),[n])})),Object(p.a)(c,k.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),y=Object(m.c)("",Object(p.a)({},k.j,(function(t,e){return e.payload}))),v=function(t,e){return e.payload},A=Object(m.c)(null,(r={},Object(p.a)(r,k.g,v),Object(p.a)(r,k.a,v),Object(p.a)(r,k.d,v),r)),C=Object(g.c)({items:E,filter:y,error:A}),B=n(2),S={name:null,email:null},L=Object(m.c)(S,(a={},Object(p.a)(a,B.l,(function(t,e){return e.payload.user})),Object(p.a)(a,B.f,(function(t,e){return e.payload.user})),Object(p.a)(a,B.i,(function(){return S})),Object(p.a)(a,B.c,(function(t,e){return e.payload})),a)),x=Object(m.c)(null,(o={},Object(p.a)(o,B.l,(function(t,e){return e.payload.token})),Object(p.a)(o,B.f,(function(t,e){return e.payload.token})),Object(p.a)(o,B.i,(function(){return null})),o)),R=function(t,e){return e.payload},q=Object(m.c)(null,(u={},Object(p.a)(u,B.j,R),Object(p.a)(u,B.d,R),Object(p.a)(u,B.g,R),Object(p.a)(u,B.a,R),u)),z=Object(m.c)(!1,(i={},Object(p.a)(i,B.l,(function(){return!0})),Object(p.a)(i,B.f,(function(){return!0})),Object(p.a)(i,B.c,(function(){return!0})),Object(p.a)(i,B.j,(function(){return!1})),Object(p.a)(i,B.d,(function(){return!1})),Object(p.a)(i,B.a,(function(){return!1})),Object(p.a)(i,B.i,(function(){return!1})),i)),T=Object(g.c)({user:L,token:x,error:q,isAuthenticated:z}),U=n(46),w=n.n(U),I=n(14),W=Object(h.a)(Object(m.d)({serializableCheck:{ignoredActions:[I.a,I.f,I.b,I.c,I.d,I.e]}})),D={key:"auth",storage:w.a,whitelist:["token"]},F=Object(m.a)({reducer:{auth:Object(I.g)(D,T),contacts:C},middleware:W}),M={persistor:Object(I.h)(F),store:F},G=n(29),J=n(30),H=n(32),K=n(31),N=n(4),P=function(t){return t.auth.isAuthenticated},Q=function(t){return t.auth.user.name},V={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},X=Object(f.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.isAuthenticated;return b.a.createElement("nav",null,b.a.createElement(j.b,{to:"/",exact:!0,style:V.link,activeStyle:V.activeLink},"Home"),e&&b.a.createElement(j.b,{to:"/contacts",exact:!0,style:V.link,activeStyle:V.activeLink},"My contacts"))})),Y=n(19),Z={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},$={onLogout:Y.c},_=Object(f.b)((function(t){return{name:Q(t)}}),$)((function(t){var e=t.avatar,n=t.name,c=t.onLogout;return b.a.createElement("div",{style:Z.container},b.a.createElement("img",{src:e,alt:"",width:"32",style:Z.avatar}),b.a.createElement("span",{style:Z.name},"Welcome, ",n),b.a.createElement("button",{type:"button",onClick:c},"Logout"))})),tt={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},et=function(){return b.a.createElement("div",null,b.a.createElement(j.b,{to:"/register",exact:!0,style:tt.link,activeStyle:tt.activeLink},"Sign Up"),b.a.createElement(j.b,{to:"/login",exact:!0,style:tt.link,activeStyle:tt.activeLink},"Log In"))},nt={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},ct=Object(f.b)((function(t){return{isAuthenticated:P(t)}}),null)((function(t){var e=t.isAuthenticated;return b.a.createElement("header",{style:nt.header},b.a.createElement(X,null),e?b.a.createElement(_,null):b.a.createElement(et,null))})),rt=n(22),at=Object(f.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(rt.a)(t,["component","isAuthenticated","redirectTo"]);return b.a.createElement(N.b,Object.assign({},r,{render:function(t){return n?b.a.createElement(e,t):b.a.createElement(N.a,{to:c})}}))})),ot=Object(f.b)((function(t){return{isAuthenticated:P(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,r=Object(rt.a)(t,["component","isAuthenticated","redirectTo"]);return b.a.createElement(N.b,Object.assign({},r,{render:function(t){return n&&r.restricted?b.a.createElement(N.a,{to:c}):b.a.createElement(e,t)}}))})),ut=Object(l.lazy)((function(){return n.e(4).then(n.bind(null,85))})),it=Object(l.lazy)((function(){return n.e(6).then(n.bind(null,86))})),lt=Object(l.lazy)((function(){return n.e(5).then(n.bind(null,87))})),bt=Object(l.lazy)((function(){return n.e(3).then(n.bind(null,88))})),st=function(t){Object(H.a)(n,t);var e=Object(K.a)(n);function n(){return Object(G.a)(this,n),e.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(ct,null),b.a.createElement(l.Suspense,{fallback:b.a.createElement("p",null,"Loading...")},b.a.createElement(N.d,null,b.a.createElement(N.b,{exact:!0,path:"/",component:ut}),b.a.createElement(ot,{path:"/register",component:it,restricted:!0,redirectTo:"/contacts"}),b.a.createElement(ot,{path:"/login",component:lt,restricted:!0,redirectTo:"/contacts"}),b.a.createElement(at,{path:"/contacts",component:bt,redirectTo:"/login"}))))}}]),n}(l.Component),dt={onGetCurrentUser:Y.a},ft=Object(f.b)(null,dt)(st);d.a.render(b.a.createElement(b.a.StrictMode,null,b.a.createElement(f.a,{store:M.store},b.a.createElement(O.a,{loading:null,persistor:M.persistor},b.a.createElement(j.a,null,b.a.createElement(ft,null))))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2306f4c1.chunk.js.map